@{
    Layout = "~/Views/Shared/_CenteredLayout.cshtml";

    ViewBag.Title = "Nuevo Punto";
}
<div ng-controller="PuntoController as punto">
    <h2 class="page-header">
        @ViewBag.Title
    </h2>
    <div class="entity-editor">
        <div ng-show="punto.response.result == false" class="alert alert-danger">
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
      
          <h4 class="title">Error</h4>
          <p>{{punto.response.value}}</p>
        </div>
        <form name="myForm" method="POST" ng-submit="punto.save(tab, item)" novalidate>
        <div class="form-group" ng-class="{ 'has-error': myForm.Codigo.$invalid && myForm.Codigo.$dirty, 'has-success': myForm.Codigo.$valid }">
            <label class="control-label">Código</label>
            <input class="form-control" name="Codigo" ng-model="item.Id" required/>
            <p class="help-block" ng-if="myForm.Codigo.$error.required && myForm.Codigo.$dirty">Campo requerido</p>
        </div>
        <div class="form-group"  ng-class="{ 'has-error': myForm.Descripcion.Descripcion.$invalid && myForm.Descripcion.$dirty, 'has-success': myForm.Descripcion.$valid }">
            <label class="control-label">Descripción</label>
            <input name="Descripcion" class="form-control" ng-model="item.Descripcion" required/>
            <p class="help-block" ng-if="myForm.Descripcion.$error.required && myForm.Descripcion.$dirty">Campo requerido</p>
        </div>
        <div class="form-group ">
            <label class="control-label">Mensaje 1 para el televisor</label>
            <input class="form-control" ng-model="item.Mensaje1" />
            <div class="help-block with-errors">
            </div>
        </div>
        <div class="form-group ">
            <label class="control-label">Mensaje 2 para el televisor</label>
            <input class="form-control" ng-model="item.Mensaje2" />
            <div class="help-block with-errors">
            </div>
        </div>
        <div class="form-group ">
            <label class="control-label">Mensaje para el ticket</label>
            <textarea class="form-control" ng-model="item.Mensaje3" rows="3" maxlength="150"></textarea>
            <div class="help-block with-errors">
            </div>
        </div>
        <div class="form-group " ng-class="{ 'has-error': myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$invalid, 'has-success' : myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$valid}">
            <label class="control-label">Orden de Atención</label>
            <div class="form-inline">
                <div>
                    <p class="form-control-static"> 
                        Atender 1 ticket preferencial después de
                        <input name="OrdenAtencion" style="width:10%" class="form-control" ng-model="item.OrdenAtencion" type="number" min="1" required/>
                        tickets normales
                    </p>
                    <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.required">Campo requerido</p>
                    <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.number">Debe ingresar un número válido</p>
                    <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.min">Debe ingresar un número mayor o igual a 1</p>
                </div>
            </div>    
            <div class="help-block with-errors">
            </div>
        </div>
        <div class="text-right">
            <a href="#" ng-click="punto.volver(tab)" class="btn btn-link" data-ajax>
                Cancelar
            </a>
            <button type="submit" class="btn btn-primary" ng-disabled="myForm.$invalid || !myForm.$dirty">
                Guardar
            </button>
        </div>
        </form>
    </div>
</div>