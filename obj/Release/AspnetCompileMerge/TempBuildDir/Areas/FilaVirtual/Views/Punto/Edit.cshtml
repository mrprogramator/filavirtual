@model SistemaDeGestionDeFilas.Areas.FilaVirtual.Models.Punto
@{
    Layout = "~/Views/Shared/_CenteredLayout.cshtml";

    ViewBag.Title = "Editar Punto";
}
<div ng-controller="PuntoController as punto">
    <h2 class="page-header">
        @ViewBag.Title
    </h2>
    <div ng-show="punto.response.result == false" class="alert alert-danger">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="title">
            Error</h4>
        <p>{{punto.response.value}}</p>
    </div>
    <div class="entity-editor">
        <form name="myForm" method="POST" ng-init="punto.detailInit(tab)" ng-submit="punto.update(tab, punto.item)" novalidate>
            <div class="form-group" ng-class="{'has-error': myForm.Descripcion.$dirty && myForm.Descripcion.$invalid, 'has-success': myForm.Descripcion.$dirty && myForm.Descripcion.$valid }">
                <label class="control-label">
                    Descripción</label>
                <input name="Descripcion" class="form-control" type="text" ng-model="punto.item.Descripcion" required />
                <p class="help-block" ng-if="myForm.Descripcion.$error.required && myForm.Descripcion.$dirty">Campo requerido</p>
            </div>
            <div class="form-group ">
                <label class="control-label">Mensaje 1 para el televisor</label>
                <input class="form-control" ng-model="punto.item.Mensaje1" />
                <div class="help-block with-errors">
                </div>
            </div>
            <div class="form-group ">
                <label class="control-label">Mensaje 2 para el televisor</label>
                <input class="form-control" ng-model="punto.item.Mensaje2" />
                <div class="help-block with-errors">
                </div>
            </div>
            <div class="form-group ">
                <label class="control-label">Mensaje para el ticket</label>
                <textarea rows="3" class="form-control" ng-model="punto.item.Mensaje3" maxlength="150"></textarea>
                <div class="help-block with-errors">
                </div>
            </div>
            <div class="form-group" ng-class="{ 'has-error': myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$invalid, 'has-success' : myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$valid}">
                <label class="control-label">Orden de Atención</label>
                <div class="form-inline">
                    <div class="form-group" >
                        <p class="form-control-static"> Atender 1 ticket preferencial después de <input name="OrdenAtencion" style="width:10%" class="form-control" ng-model="punto.item.OrdenAtencion" type="number" min="1" required></input> tickets normales</p>
                    </div>
                </div>
                <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.required">Campo requerido</p>
                <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.number">Debe ingresar un número válido</p>
                <p class="help-block" ng-if="myForm.OrdenAtencion.$dirty && myForm.OrdenAtencion.$error.min">Debe ingresar un número mayor o igual a 1</p>
            </div>
            <div class="text-right">
                <a ng-click="punto.volver(tab)" class="btn btn-link" data-ajax>Cancelar</a>
                <button ng-disabled="myForm.$invalid || !myForm.$dirty" type="submit" class="btn btn-primary">
                    Guardar</button>
            </div>
        </form>
    </div>
</div>